<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculadora de Comisiones ONCE 2025</title>

  <!-- Colores y tema -->
  <meta name="theme-color" content="#d62828">

  <!-- Iconos -->
  <link rel="icon" href="favicon.png" type="image/png" sizes="192x192">
  <link rel="apple-touch-icon" href="favicon.png">

  <!-- Manifest -->
  <link rel="manifest" href="manifest.json">

  <style>
    :root {
      --bg: #ffffff;
      --fg: #000000;
      --primary: #d62828;
      --secondary: #fcbf49;
      --accent: #003049;
    }
    [data-theme="dark"] {
      --bg: #1e1e1e;
      --fg: #f0f0f0;
      --primary: #ff595e;
      --secondary: #ffca3a;
      --accent: #8ac926;
    }
    body {
      font-family: Arial, sans-serif;
      background: var(--bg);
      color: var(--fg);
      margin: 0;
      padding: 1rem;
    }
    h1 { color: var(--primary); }
    select, input[type=number], button {
      width: 100%;
      padding: 0.5rem;
      margin: 0.5rem 0;
      font-size: 1rem;
    }
    .resultado {
      margin-top: 1rem;
      background: var(--secondary);
      color: var(--accent);
      padding: 1rem;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <h1>Calculadora de Comisiones ONCE 2025</h1>
  <button onclick="cambiarTema()">ðŸŒ— Cambiar tema</button>
  <label>Tipo de producto:
    <select id="tipo" onchange="autocompletarPrecio()">
      <option value="diario">Diario</option>
      <option value="cuponazo">Cuponazo</option>
      <option value="sueldazo">Sueldazo</option>
      <option value="rasca">Rasca</option>
      <option value="triplex">Triplex</option>
      <option value="superonce">Super Once</option>
      <option value="midia">Mi DÃ­a</option>
      <option value="eurojackpot">Eurojackpot</option>
      <option value="extraordinario">Extraordinario</option>
      <option value="resto">Otros</option>
    </select>
  </label>
  <label>DÃ­as trabajados:
    <input id="dias" type="number" value="20" min="1" max="26">
  </label>
  <label>Cupones vendidos:
    <input id="vendidos" type="number" value="0" min="0">
  </label>
  <label>Precio por cupÃ³n (â‚¬):
    <input id="precio" type="number" value="2" step="0.1">
  </label>
  <button onclick="calcularComision()">Calcular ComisiÃ³n</button>
  <div class="resultado" id="resultado"></div>

  <script>
    const precios = {
      diario: 2, cuponazo: 3, sueldazo: 2, rasca: 1,
      triplex: 0.5, superonce: 1, midia: 1, eurojackpot: 2,
      extraordinario: 2.5, resto: 1.5
    };
    const porcentajes = {
      diario: 0.077, cuponazo: 0.077, sueldazo: 0.077,
      rasca: 0.065, triplex: 0.05, superonce: 0.05,
      midia: 0.05, eurojackpot: 0.05, extraordinario: 0.10, resto: 0.04
    };
    function autocompletarPrecio() {
      document.getElementById("precio").value = precios[document.getElementById("tipo").value];
    }
    function calcularComision() {
      const tipo = document.getElementById("tipo").value;
      const dias = parseInt(document.getElementById("dias").value);
      const vendidos = parseInt(document.getElementById("vendidos").value);
      const precio = parseFloat(document.getElementById("precio").value);
      const total = vendidos * precio;
      const minimo = dias * precio * 71;
      const umbral = dias * precio * 105;
      let comision = total >= umbral ? total * porcentajes[tipo] : 0;
      document.getElementById("resultado").innerHTML = `
        ðŸ”¢ Vendidos: ${vendidos} Ã— ${precio.toFixed(2)} â‚¬ = ${total.toFixed(2)} â‚¬<br>
        ðŸ“… MÃ­nimo: ${minimo.toFixed(2)} â‚¬ | Umbral: ${umbral.toFixed(2)} â‚¬<br>
        ðŸ“ˆ ComisiÃ³n: ${(porcentajes[tipo]*100).toFixed(2)} %<br>
        ðŸ’° Ganancia: ${comision.toFixed(2)} â‚¬
      `;
    }
    function cambiarTema() {
      document.documentElement.dataset.theme =
        document.documentElement.dataset.theme === "dark" ? "light" : "dark";
    }
  </script>
</body>
</html>
